{"code":"import JSBI from 'jsbi';\r\nimport { ZERO } from '../internalConstants';\r\nconst Q256 = JSBI.exponentiate(JSBI.BigInt(2), JSBI.BigInt(256));\r\nexport function subIn256(x, y) {\r\n    const difference = JSBI.subtract(x, y);\r\n    if (JSBI.lessThan(difference, ZERO)) {\r\n        return JSBI.add(Q256, difference);\r\n    }\r\n    else {\r\n        return difference;\r\n    }\r\n}\r\nexport class TickLibrary {\r\n    /**\r\n     * Cannot be constructed.\r\n     */\r\n    constructor() { }\r\n    static getFeeGrowthInside(feeGrowthOutsideLower, feeGrowthOutsideUpper, tickLower, tickUpper, tickCurrent, feeGrowthGlobal0X128, feeGrowthGlobal1X128) {\r\n        let feeGrowthBelow0X128;\r\n        let feeGrowthBelow1X128;\r\n        if (tickCurrent >= tickLower) {\r\n            feeGrowthBelow0X128 = feeGrowthOutsideLower.feeGrowthOutside0X128;\r\n            feeGrowthBelow1X128 = feeGrowthOutsideLower.feeGrowthOutside1X128;\r\n        }\r\n        else {\r\n            feeGrowthBelow0X128 = subIn256(feeGrowthGlobal0X128, feeGrowthOutsideLower.feeGrowthOutside0X128);\r\n            feeGrowthBelow1X128 = subIn256(feeGrowthGlobal1X128, feeGrowthOutsideLower.feeGrowthOutside1X128);\r\n        }\r\n        let feeGrowthAbove0X128;\r\n        let feeGrowthAbove1X128;\r\n        if (tickCurrent < tickUpper) {\r\n            feeGrowthAbove0X128 = feeGrowthOutsideUpper.feeGrowthOutside0X128;\r\n            feeGrowthAbove1X128 = feeGrowthOutsideUpper.feeGrowthOutside1X128;\r\n        }\r\n        else {\r\n            feeGrowthAbove0X128 = subIn256(feeGrowthGlobal0X128, feeGrowthOutsideUpper.feeGrowthOutside0X128);\r\n            feeGrowthAbove1X128 = subIn256(feeGrowthGlobal1X128, feeGrowthOutsideUpper.feeGrowthOutside1X128);\r\n        }\r\n        return [\r\n            subIn256(subIn256(feeGrowthGlobal0X128, feeGrowthBelow0X128), feeGrowthAbove0X128),\r\n            subIn256(subIn256(feeGrowthGlobal1X128, feeGrowthBelow1X128), feeGrowthAbove1X128)\r\n        ];\r\n    }\r\n}\r\n//# sourceMappingURL=tickLibrary.js.map","references":["/Users/luozhiwei/project/uniswap/v3-sdk/node_modules/jsbi/jsbi.d.ts","/Users/luozhiwei/project/uniswap/v3-sdk/src/internalConstants.ts"],"map":"{\"version\":3,\"file\":\"tickLibrary.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/utils/tickLibrary.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,IAAI,MAAM,MAAM,CAAA;AACvB,OAAO,EAAE,IAAI,EAAE,MAAM,sBAAsB,CAAA;AAO3C,MAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAA;AAEhE,MAAM,UAAU,QAAQ,CAAC,CAAO,EAAE,CAAO;IACvC,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;IAEtC,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE;QACnC,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,UAAU,CAAC,CAAA;KAClC;SAAM;QACL,OAAO,UAAU,CAAA;KAClB;AACH,CAAC;AAED,MAAM,OAAgB,WAAW;IAC/B;;OAEG;IACH,gBAAuB,CAAC;IAEjB,MAAM,CAAC,kBAAkB,CAC9B,qBAAuC,EACvC,qBAAuC,EACvC,SAAiB,EACjB,SAAiB,EACjB,WAAmB,EACnB,oBAA0B,EAC1B,oBAA0B;QAE1B,IAAI,mBAAyB,CAAA;QAC7B,IAAI,mBAAyB,CAAA;QAC7B,IAAI,WAAW,IAAI,SAAS,EAAE;YAC5B,mBAAmB,GAAG,qBAAqB,CAAC,qBAAqB,CAAA;YACjE,mBAAmB,GAAG,qBAAqB,CAAC,qBAAqB,CAAA;SAClE;aAAM;YACL,mBAAmB,GAAG,QAAQ,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,qBAAqB,CAAC,CAAA;YACjG,mBAAmB,GAAG,QAAQ,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,qBAAqB,CAAC,CAAA;SAClG;QAED,IAAI,mBAAyB,CAAA;QAC7B,IAAI,mBAAyB,CAAA;QAC7B,IAAI,WAAW,GAAG,SAAS,EAAE;YAC3B,mBAAmB,GAAG,qBAAqB,CAAC,qBAAqB,CAAA;YACjE,mBAAmB,GAAG,qBAAqB,CAAC,qBAAqB,CAAA;SAClE;aAAM;YACL,mBAAmB,GAAG,QAAQ,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,qBAAqB,CAAC,CAAA;YACjG,mBAAmB,GAAG,QAAQ,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,qBAAqB,CAAC,CAAA;SAClG;QAED,OAAO;YACL,QAAQ,CAAC,QAAQ,CAAC,oBAAoB,EAAE,mBAAmB,CAAC,EAAE,mBAAmB,CAAC;YAClF,QAAQ,CAAC,QAAQ,CAAC,oBAAoB,EAAE,mBAAmB,CAAC,EAAE,mBAAmB,CAAC;SACnF,CAAA;IACH,CAAC;CACF\"}"}
